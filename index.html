<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Tool chuy·ªÉn link Shopee sang JS</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      background-color: #f8f8f8;
    }
    h1 { color: #ee4d2d; }
    input, textarea, button {
      width: 100%;
      font-size: 16px;
      margin-top: 10px;
      padding: 10px;
      box-sizing: border-box;
    }
    textarea { resize: vertical; height: 200px; }
    button {
      background-color: #ee4d2d;
      color: #fff;
      border: none;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover {
      background-color: #d4371a;
    }
  </style>
</head>
<body>

  <h1>üîÅ Chuy·ªÉn link s·∫£n ph·∫©m Shopee th√†nh m√£ JavaScript</h1>

  <label>üîó Link s·∫£n ph·∫©m Shopee:</label>
  <input type="text" id="shopeeLink" placeholder="https://shopee.vn/product/SHOPID/ITEMID/..." />

  <label>üõí S·ªë l∆∞·ª£ng s·∫£n ph·∫©m (m·∫∑c ƒë·ªãnh: 1):</label>
  <input type="number" id="qty" value="1" min="1" />

  <button onclick="taoMa()">T·∫°o m√£ JavaScript</button>

  <h3>üìú K·∫øt qu·∫£:</h3>
  <textarea id="output" readonly></textarea>

  <script>
    function taoMa() {
      const link = document.getElementById("shopeeLink").value.trim();
      const qty = document.getElementById("qty").value.trim() || '1';
      const output = document.getElementById("output");

      const match = link.match(/product\/(\d+)\/(\d+)/);
      if (!match) {
        output.value = "‚ùå Kh√¥ng t√¨m ƒë∆∞·ª£c shopID v√† itemID t·ª´ link!";
        return;
      }

      const shopID = match[1];
      const itemID = match[2];

      const script = `
fetch('https://dquan2910.github.io/shopeebuynow/script.js')
  .then(res => res.text())
  .then(script => {
    var final = script
      .replace('itemIDTemp', '${itemID}')
      .replace('shopIDTemp', '${shopID}')
      .replace('qtyTemp', '${qty}');
    
    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.text = final;
    document.head.appendChild(s);
  });
      `.trim();

      output.value = script;
    }
  </script>

</body>
</html>
